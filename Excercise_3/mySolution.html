<html>

<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Integrating Bootstrap above for easy formatting -->
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script>

        let SIZE = 26; //letters in the alphabet
        function histogram(str) {
            // size of the string 'str'
            let n = str.length;
            // 'freq[]' implemented as hash table
            let freq = new Array(SIZE);
            for (let i = 0; i < freq.length; i++) {
                freq[i] = 0;
            }
            for (let i = 0; i < n; i++)
                // target frequency of each character in string
                freq[str[i].charCodeAt(0) - 'a'.charCodeAt(0)]++;
            for (let i = 0; i < n; i++) {
                // if frequency of character str.charAt(i) is not equal to 0
                if (freq[str[i].charCodeAt(0) - 'a'.charCodeAt(0)] != 0) {
                    // print the character along with its frequency
                    document.write(str[i]);
                    document.write(freq[str[i].charCodeAt(0) - 'a'.charCodeAt(0)] + " ");
                    // update frequency of str.charAt(i) to
                    // 0 so that the same character is not repeated
                    freq[str[i].charCodeAt(0) - 'a'.charCodeAt(0)] = 0;

                }
            }
            document.write(`<br/> Click Refresh to Go Back`);
        }

        $(document).ready(function () {
            $('#histo_button').click(function () {
                let value = $('input[type="text"]').val();
                if (!value) {
                    alert("Please enter a value");
                } else {
                    histogram(value);
                }
                // histogram(value);
                // here we get the amount of frequencies displayed to the user
                // I realize this is incomplete. With more time, 
                // I would implement functionality to display it as a histogram rather than a raw list
            });
        });
    </script>
</head>

<body>
    <main class="text-center mt-5 h4">
        <!-- ^small formatting implementation for readability/accessibility -->
        Enter text (all lowercase) to create a histogram:
        <br /><input onkeypress="return /[a-z]/i.test(event.key)" type="text" size="10" class="mt-2" />
        <!-- adding onkeypress^ to ensure user can only enter alphabetic values -->
        <hr />
        <input type="button" value="Generate the Histogram" id="histo_button" />
        <div id="histo_result"></div>
    </main>
</body>

</html>